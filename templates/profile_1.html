<link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='design.css') }}">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<title>Проофиль {{name}}</title>
<style>
  input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button {
    -webkit-appearance: none; // Yeah, yeah everybody write about it
}

input[type='number'],
input[type="number"]:hover,
input[type="number"]:focus {
    appearance: none;
    -moz-appearance: textfield;
}
</style>
<body>

  <div id="div" style="position: absolute; left: 10px; width: 40px;" onclick="location.href='/students'">
    <?xml version="1.0" encoding="utf-8"?>
<!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
<svg width="41px" height="40px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<g id="Navigation / House_02">
<path id="Vector" d="M4 11.4522V16.8002C4 17.9203 4 18.4807 4.21799 18.9086C4.40973 19.2849 4.71547 19.5906 5.0918 19.7823C5.5192 20.0001 6.07899 20.0001 7.19691 20.0001H16.8031C17.921 20.0001 18.48 20.0001 18.9074 19.7823C19.2837 19.5906 19.5905 19.2849 19.7822 18.9086C20 18.4811 20 17.9216 20 16.8037V11.4522C20 10.9179 19.9995 10.6506 19.9346 10.4019C19.877 10.1816 19.7825 9.97307 19.6546 9.78464C19.5102 9.57201 19.3096 9.39569 18.9074 9.04383L14.1074 4.84383C13.3608 4.19054 12.9875 3.86406 12.5674 3.73982C12.1972 3.63035 11.8026 3.63035 11.4324 3.73982C11.0126 3.86397 10.6398 4.19014 9.89436 4.84244L5.09277 9.04383C4.69064 9.39569 4.49004 9.57201 4.3457 9.78464C4.21779 9.97307 4.12255 10.1816 4.06497 10.4019C4 10.6506 4 10.9179 4 11.4522Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</g>
</svg>
  </div>
  <center>
    <div><h3>{{name}}</h3></div>
    <div id="div">
      <strong>
        {{class1}} класс, Группа {{group}} <br>Имя преподавателя: {{teacher_name}}
      </strong>
      <br> 
      <span style="font-size: 94%;">Уровень: {{english_level}}</span>
    <br>
      <a href="/newmark?name={{name}}&class={{class1}}" ><button id="button">Добавить оценку</button></a>
      <a href="/change_profile?id={{id}}"><button id="button">Изменить профиль</button></a>
    </div>
  </center>
  <div id="div" style="position: absolute; right: 10px; width: 500px; height: min-content; margin:auto">Достижения: {{olympiads}}</div>


  <form action="/marks?id={{id}}&name={{name}}&class={{class1}}&max_i={{max_i}}" method = 'post'>

  
  <div id="div" style="position: absolute; left: 10px; top: 253px; width: 20%;"><input type="submit" value="Применить оценки"> <norm-teg style="color: aquamarine; font-size: 70%;">{{status}}</norm-teg></div>

  <table id="text" style="margin-top: 100px;">
    <thead>
      <tr>
        <th><center>Год/Тип оценки</center></th>  
        <th><center>Входной тест (Уровень)</center></th>
        <th><center>Входной тест (Балл)</center></th>
        <th><center>Триместр 1</center></th>
        <th><center>Зимняя сессия</center></th>
        <th><center>Триместр 2</center></th>
        <th><center>Триместр 3</center></th>
        <th><center>Годовая</center></th>
        <th><center>Летняя сессия</center></th>
        <th><center>Пробники ОГЭ</center></th>
      </tr>
    </thead>
    <tbody>
    {% for item in data %} 
    <tr>
      
      <td><center><div><input name='year{{item.i}}' id="mark" type="text" value="{{ item.year }}"  style="width:120px" readonly></div></center></td>
      <td><center><div><input name='v_level{{item.i}}' id="mark" type="text" value="{{ item.v_level }}"></div></center></td>
      <td><center><div><input name='v_ball{{item.i}}' id="mark" type="text" value="{{ item.v_ball }}"></div></center></td>
      <td><center><div><input name='t_one{{item.i}}' id="mark" type="number" value="{{ item.t_one }}"></div></center></td>
      <td><center><div><input name='winter{{item.i}}' id="mark" type="text" value="{{ item.winter }}"></div></center></td>
      <td><center><div><input name='t_two{{item.i}}' id="mark" type="number" value="{{ item.t_two }}"></div></center></td>
      <td><center><div><input name='t_three{{item.i}}' id="mark" type="number" value="{{ item.t_three }}"></div></center></td>
      <td><center><div><input name='year_mark{{item.i}}' id="mark" type="number" value="{{ item.year_mark }}"></div></center></td>
      <td><center><div><input name='summer{{item.i}}' id="mark" type="text" value="{{ item.summer }}"></div></center></td>
      <td><center><div><input name='test_oge{{item.i}}' id="mark" type="text" value="{{ item.test_oge }}"></div></center></td> 
      
    </tr>
    {% endfor %}
    </tbody>
  </table>
      </form>

      <center><div style="height: 50vh; width: 100%;">
        <canvas id="myChart"></canvas>
      </div></center>
      <script>
        const labels = {{ graph_x | tojson}};
        const data = {
            labels: labels,
            datasets: [{
                label: 'Оценка',
                backgroundColor: 'white',
                borderColor: 'white',
                data: {{ graph_y | tojson}}
            }]
        };
        const config = {
            type: 'line',
            data: data,
            options: {
              layout: {
                padding: {
                  left: 50
                }
              },
              maintainAspectRatio: false,
              animation: false,
              plugins: {
                  legend: {
                      labels: {
                          color: "white",
                        }
                    }
                },
                scales: {
                    y: {
                        min: 4,
                        max: 10,
                        ticks: {
                            stepSize: 1,
                            color: 'white'
                        },
                        grid: {
                            color: "rgb(97, 97, 97)"
                        }
                    },
                    x: {
                        ticks: {
                            color: 'white'
                        },
                        grid: {
                            color: "rgb(97, 97, 97)"
                        }
                    }
                }
            }
        };
        const myChart = new Chart(
            document.getElementById('myChart'),
            config
        );
      </script>

<!-- <div style="position: absolute; top: 0px; width: 100%;" id="div"></div> -->
</body>